# https://github.com/jupyterhub/chartpress#configuration
# https://jacobtomlinson.dev/posts/2019/how-to-create-a-helm-chart-repository-with-chartpress-travis-ci-github-pages-and-jekyll/

charts:
  - name: diy-r-future
    imagePrefix: "{{ cookiecutter.docker_username }}/r-future-"
    repo:
      git: "{{ cookiecutter.github_orgname }}/{{ cookiecutter.github_reponame }}"
      published: https://{{ cookiecutter.github_orgname }}.github.io/{{ cookiecutter.project_slug }}
    images:
      worker:
        contextPath: .
        dockerfilePath: images/Dockerfile
        buildArgs:
          BUILD_STAGE: "worker"
          DIR_PREFIX: "images"
        valuesPath:
          - worker.image.repository
      rstudio:
        contextPath: .
        dockerfilePath: images/Dockerfile
        buildArgs:
          BUILD_STAGE: "rstudio"
          DIR_PREFIX: "images"
        valuesPath:
          - notebook.image.repository
